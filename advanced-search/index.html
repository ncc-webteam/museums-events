<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/museums-events/public/css/style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/styles/default.min.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Mulish:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">

  

  <script type="module" src="https://cdn.jsdelivr.net/npm/@duetds/date-picker@1.4.0/dist/duet/duet.esm.js"></script>
  <script nomodule src="https://cdn.jsdelivr.net/npm/@duetds/date-picker@1.4.0/dist/duet/duet.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@duetds/date-picker@1.4.0/dist/duet/themes/default.css" />

  

    
    
    
    
  <title>Advanced search - Museums Events</title>
</head>


<body>
  
  <header>

  <div class="container py-3">
    <div class="content-skip">
      <a href="#main" class="skip-to">Skip to content</a>
    </div>
      
    <div class="top-wrapper">
      <a class="navbar-brand" id="main-logo" href="/museums-events/public/">
        <img src="/museums-events/public/img/museums-logo.png" alt="Norfolk County Council design system logo"/>
       </a>
        
      <button id="navbarToggler" class="btn" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasHeader" aria-controls="offcanvasHeader"><svg width="24" height="16" viewBox="0 0 24 16" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 0H24V2.66667H0V0ZM0 6.66667H24V9.33333H0V6.66667ZM0 13.3333H24V16H0V13.3333Z" fill="white"/></svg>Menu</button>
    </div>

    <form class="form-inline d-flex main-search-area" action="/search">
      <input class="form-control" type="search" placeholder="Search the website" aria-label="Search">
      <button id="header-search-button" class="btn btn-outline-light d-inline-flex justify-content-between" type="submit"><svg width="14" height="14" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M6.5 0C8.22391 0 9.87721 0.684819 11.0962 1.90381C12.3152 3.12279 13 4.77609 13 6.5C13 8.11 12.41 9.59 11.44 10.73L11.71 11H12.5L17.5 16L16 17.5L11 12.5V11.71L10.73 11.44C9.59 12.41 8.11 13 6.5 13C4.77609 13 3.12279 12.3152 1.90381 11.0962C0.684819 9.87721 0 8.22391 0 6.5C0 4.77609 0.684819 3.12279 1.90381 1.90381C3.12279 0.684819 4.77609 0 6.5 0ZM6.5 2C4 2 2 4 2 6.5C2 9 4 11 6.5 11C9 11 11 9 11 6.5C11 4 9 2 6.5 2Z" fill="white"/>
</svg>
Search</button>
    </form>

  </div>

  
  
  <nav class="navbar navbar-expand-md">
    <div class="container">
      <div class="collapse navbar-collapse" id="navbar-main">
        <ul class="navbar-nav mx-auto">
          <li class="nav-item">
            <a href="/museums-events/public/getting-started/" class="nav-link">Learning</a>
          </li>
          <li class="nav-item">
            <a href="/museums-events/public/forms/overview/" class="nav-link">Venue Hire</a>
          </li>
          <li class="nav-item">
            <a href="/museums-events/public/" class="nav-link">Join and support</a>
          </li>
          <li class="nav-item">
            <a href="/museums-events/public/styles/colour" class="nav-link">About NMS</a>
          </li>
          <li class="nav-item">
            <a href="/museums-events/public/" class="nav-link">Collections</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>
  
  <div class="offcanvas offcanvas-end" tabindex="-1" id="offcanvasHeader">
    <div class="offcanvas-header justify-content-end">
      <button type="button" class="offcanvas-close-button btn-close text-reset" data-bs-dismiss="offcanvas" aria-label="Close main menu"></button>
    </div>
    <div class="offcanvas-body">
      <ul class="offcanvas-nav mx-auto">
        <li class="nav-item mx-3">
          <a href="/museums-events/public/getting-started/" class="nav-link">Learning</a>
        </li>
        <li class="nav-item mx-3">
          <a href="/museums-events/public/forms/overview/" class="nav-link">Venue Hire</a>
        </li>
        <li class="nav-item mx-3">
          <a href="/museums-events/public/" class="nav-link">Join and support</a>
        </li>
        <li class="nav-item mx-3">
          <a href="/museums-events/public/styles/colour" class="nav-link">About NMS</a>
        </li>
        <li class="nav-item mx-3">
          <a href="/museums-events/public/" class="nav-link">Collections</a>
        </li>
      </ul>
    </div>
  </div>

</header>
  <main id="main">

    

    
  <section class="museums-events-stage" style="background: linear-gradient(to right, rgba(0, 35, 93, 0.8), rgba(0, 35, 93, 0.8)), url('/museums-events/public/img/stage-img-1.jpg');">
    <div class="container">
      <div class="stage-search">
        <h1 class="text-center mt-md-4 mb-md-5">Museums event search</h1>
        <form id="main-search-form" class="form-inline d-flex stage-search" onsubmit="advancedSearchLink()">
          <input id="home-search-input" class="form-control mr-sm-2" type="text" placeholder="For example &quot;Roman&quot;" aria-label="Search">
          <button id="home-search-button" class="btn btn-outline-light home-search-btn d-inline-flex" type="button" onclick="advancedSearchLink()"><span class="search-text-long">Search events</span><span class="search-text-short">Search</span></button>
        </form>
        <div class="filters-wrapper my-3">
          <div class="filters-1 mb-3 mb-md-0">
            <div class="duet-wrapper me-1">
              <label class="h5" for="date">Date from</label>
              <duet-date-picker id="date-from" identifier="date" min="2022-01-01"
  max="2022-12-31"></duet-date-picker>
            </div>
            <div class="duet-wrapper">
              <label class="h5" for="date">Date to</label>
              <duet-date-picker id="date-to" identifier="date" min="2022-01-01"
  max="2022-12-31"></duet-date-picker>
            </div>
          </div>
          <div class="filters-2">
            <div>
              <h2 class="h5">Refine</h2>
              <div class="filter-separator">
                <button id="dropdown-filter-type" data-bs-toggle="dropdown" aria-expanded="false"  data-bs-auto-close="outside" type="button" class="btn btn-primary filter-btn">Type</button>
                      <ul class="dropdown-menu" aria-labelledby="dropdown-filter-type">
                        <div class="dropdown-top-section">
                          <h3 class="dropdown-heading h4">Event type</h3>
                          
                        </div>
                        <li class="selection-item">
                          <label class="form-check-label" for="type1check">
                            <input type="checkbox" class="form-check-input" name="typeOption" value="Tours" id="type1check">
                            <div class="text-wrapper">
                              Tours 
                            </div>
                          </label>
                        </li>
                        <li class="selection-item">
                          <label class="form-check-label" for="type2check">
                            <input type="checkbox" class="form-check-input" name="typeOption" value="Talks" id="type2check">
                            <div class="text-wrapper">
                              Talks 
                            </div>
                          </label>
                        </li>
                        <li class="selection-item">
                          <label class="form-check-label" for="type3check">
                            <input type="checkbox" class="form-check-input" name="typeOption" value="Family activities" id="type3check">
                            <div class="text-wrapper">
                              Family activities
                            </div>
                          </label>
                        </li>
                        <li class="selection-item">
                          <label class="form-check-label" for="type4check">
                            <input type="checkbox" class="form-check-input" name="typeOption" value="Exhibitions" id="type4check">
                            <div class="text-wrapper">
                              Exhibitions 
                            </div>
                          </label>
                        </li>
                        <li class="selection-item">
                          <label class="form-check-label" for="type5check">
                            <input type="checkbox" class="form-check-input" name="typeOption" value="Parties" id="type5check">
                            <div class="text-wrapper">
                              Parties 
                            </div>
                          </label>
                        </li>
                        <li class="selection-item">
                          <label class="form-check-label" for="type6check">
                            <input type="checkbox" class="form-check-input" name="typeOption" value="Workshops" id="type6check">
                            <div class="text-wrapper">
                              Workshops 
                            </div>
                          </label>
                        </li>
                        <div class="dropdown-bottom-section">
                          <button class="filter-control-btn clear-filter" type="button" onclick="clearFiltersDropdown('typeOption')" data-bs-dismiss="dropdown">Clear filters</button>
                          <button class="filter-control-btn apply-filter" type="button" onclick="applyfiltersDropdown('typeOption', document.getElementsByName('typeOption'))" data-bs-dismiss="dropdown">Apply filters</button>
                        </div>
                      </ul>
                <button id="dropdown-filter-location" data-bs-toggle="dropdown" aria-expanded="false"  data-bs-auto-close="outside" type="button" class="btn btn-primary filter-btn">Location</button>
                <ul class="dropdown-menu" aria-labelledby="dropdown-filter-location">
                        <div class="dropdown-top-section">
                          <h3 class="dropdown-heading h4">Location</h3>
                          
                        </div>
                        <li class="selection-item">
                          <label class="form-check-label" for="location0check">
                            <input type="checkbox" class="form-check-input" name="locationOption" value="Online" id="location0check">
                            <div class="text-wrapper">
                              Online
                            </div>
                          </label>
                        </li>
                        <li class="selection-item">
                          <label class="form-check-label" for="location1check">
                            <input type="checkbox" class="form-check-input" name="locationOption" value="Norwich Castle" id="location1check">
                            <div class="text-wrapper">
                              Norwich Castle • Norwich 
                            </div>
                          </label>
                        </li>
                        <li class="selection-item">
                          <label class="form-check-label" for="location2check">
                            <input type="checkbox" class="form-check-input" name="locationOption" value="Strangers’ Hall" id="location2check">
                            <div class="text-wrapper">
                              Strangers’ Hall • Norwich
                            </div>
                          </label>
                        </li>
                        <li class="selection-item">
                          <label class="form-check-label" for="location3check">
                            <input type="checkbox" class="form-check-input" name="locationOption" value="Time & Tide" id="location3check">
                            <div class="text-wrapper">
                              Time & Tide • Great Yarmouth 
                            </div>
                          </label>
                        </li>
                        <li class="selection-item">
                          <label class="form-check-label" for="location4check">
                            <input type="checkbox" class="form-check-input" name="locationOption" value="Gressenhall" id="location4check">
                            <div class="text-wrapper">
                              Gressenhall Farm & Workhouse
                            </div>
                          </label>
                        </li>
                        <li class="selection-item">
                          <label class="form-check-label" for="location5check">
                            <input type="checkbox" class="form-check-input" name="locationOption" value="Museum of Norwich" id="location5check">
                            <div class="text-wrapper">
                              Museum of Norwich • Norwich
                            </div>
                          </label>
                        </li>
                        <li class="selection-item">
                          <label class="form-check-label" for="location6check">
                            <input type="checkbox" class="form-check-input" name="locationOption" value="Elizabethan House" id="location6check">
                            <div class="text-wrapper">
                              Elizabethan House • Great Yarmouth
                            </div>
                          </label>
                        </li>
                        <li class="selection-item">
                          <label class="form-check-label" for="location7check">
                            <input type="checkbox" class="form-check-input" name="locationOption" value="Lynn" id="location7check">
                            <div class="text-wrapper">
                              Lynn Museum • King's Lynn
                            </div>
                          </label>
                        </li>
                        <li class="selection-item">
                          <label class="form-check-label" for="location8check">
                            <input type="checkbox" class="form-check-input" name="locationOption" value="Cromer" id="location8check">
                            <div class="text-wrapper">
                              Cromer Museum • Cromer
                            </div>
                          </label>
                        </li>
                        <li class="selection-item">
                          <label class="form-check-label" for="location9check">
                            <input type="checkbox" class="form-check-input" name="locationOption" value="Tolhouse Gaol" id="location9check">
                            <div class="text-wrapper">
                              Tolhouse Gaol • Great Yarmouth
                            </div>
                          </label>
                        </li>
                        <li class="selection-item">
                          <label class="form-check-label" for="location10check">
                            <input type="checkbox" class="form-check-input" name="locationOption" value="Ancient House" id="location10check">
                            <div class="text-wrapper">
                              Ancient House • Thetford
                            </div>
                          </label>
                        </li>
                        <div class="dropdown-bottom-section">
                          <button class="filter-control-btn clear-filter" type="button" onclick="clearFiltersDropdown('locationOption')" data-bs-dismiss="dropdown">Clear filters</button>
                          <button class="filter-control-btn apply-filter" type="button" onclick="applyfiltersDropdown('locationOption', document.getElementsByName('locationOption'))" data-bs-dismiss="dropdown">Apply filters</button>
                        </div>
                      </ul>
                <button id="dropdown-filter-audience" data-bs-toggle="dropdown" aria-expanded="false"  data-bs-auto-close="outside" type="button" class="btn btn-primary filter-btn">Audience</button>
                <ul class="dropdown-menu" aria-labelledby="dropdown-filter-type">
                        <div class="dropdown-top-section">
                          <h3 class="dropdown-heading h4">Audience</h3>
                          
                        </div>
                        <li class="selection-item">
                          <label class="form-check-label" for="audience1check">
                            <input type="checkbox" class="form-check-input" name="audienceOption" value="All" id="audience1check">
                            <div class="text-wrapper">
                              All audiences 
                            </div>
                          </label>
                        </li>
                        <li class="selection-item">
                          <label class="form-check-label" for="audience2check">
                            <input type="checkbox" class="form-check-input" name="audienceOption" value="Adults" id="audience2check">
                            <div class="text-wrapper">
                              Adults focused 
                            </div>
                          </label>
                        </li>
                        <li class="selection-item">
                          <label class="form-check-label" for="audience3check">
                            <input type="checkbox" class="form-check-input" name="audienceOption" value="Children" id="audience3check">
                            <div class="text-wrapper">
                              Children focused 
                            </div>
                          </label>
                        </li>
                        <div class="dropdown-bottom-section">
                          <button class="filter-control-btn clear-filter" type="button" onclick="clearFiltersDropdown('audienceOption')" data-bs-dismiss="dropdown">Clear filters</button>
                          <button class="filter-control-btn apply-filter" type="button" onclick="applyfiltersDropdown('audienceOption', document.getElementsByName('audienceOption'))" data-bs-dismiss="dropdown">Apply filters</button>
                        </div>
                      </ul>
                <button id="modal-filter-all" type="button" class="btn btn-primary filter-btn filter-btn-all" data-bs-toggle="modal" data-bs-target="#filtersModal">Filters</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

    <!-- Filters Modal -->
<div class="modal fade filters-modal" id="filtersModal" tabindex="-1" aria-labelledby="filtersModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title" id="filtersModalLabel">Filters</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
          <ul class="filter-list">
                        <div class="dropdown-top-section">
                          <h3 class="dropdown-heading h4">Event type</h3>
                        </div>
                        <li class="selection-item">
                          <label class="form-check-label" for="type1check">
                            <input type="checkbox" class="form-check-input" name="typeOptionModal" value="Tours" id="type1check">
                            <div class="text-wrapper">
                              Tours 
                            </div>
                          </label>
                        </li>
                        <li class="selection-item">
                          <label class="form-check-label" for="type2check">
                            <input type="checkbox" class="form-check-input" name="typeOptionModal" value="Talks" id="type2check">
                            <div class="text-wrapper">
                              Talks 
                            </div>
                          </label>
                        </li>
                        <li class="selection-item">
                          <label class="form-check-label" for="type3check">
                            <input type="checkbox" class="form-check-input" name="typeOptionModal" value="Family activities" id="type3check">
                            <div class="text-wrapper">
                              Family activities 
                            </div>
                          </label>
                        </li>
                        <li class="selection-item">
                          <label class="form-check-label" for="type4check">
                            <input type="checkbox" class="form-check-input" name="typeOptionModal" value="Exhibitions" id="type4check">
                            <div class="text-wrapper">
                              Exhibitions 
                            </div>
                          </label>
                        </li>
                        <li class="selection-item">
                          <label class="form-check-label" for="type5check">
                            <input type="checkbox" class="form-check-input" name="typeOptionModal" value="Parties" id="type5check">
                            <div class="text-wrapper">
                              Parties
                            </div>
                          </label>
                        </li>
                        <li class="selection-item">
                          <label class="form-check-label" for="type6check">
                            <input type="checkbox" class="form-check-input" name="typeOptionModal" value="Workshops" id="type6check">
                            <div class="text-wrapper">
                              Workshops
                            </div>
                          </label>
                        </li>
                      </ul>
                      <ul class="filter-list">
                        <div class="dropdown-top-section">
                          <h3 class="dropdown-heading h4">Location</h3>
                        </div>
                        <li class="selection-item">
                          <label class="form-check-label" for="location0check">
                            <input type="checkbox" class="form-check-input" name="locationOptionModal" value="Online" id="location0check">
                            <div class="text-wrapper">
                              Online
                            </div>
                          </label>
                        </li>
                        <li class="selection-item">
                          <label class="form-check-label" for="location1check">
                            <input type="checkbox" class="form-check-input" name="locationOptionModal" value="Norwich Castle" id="location1check">
                            <div class="text-wrapper">
                              Norwich Castle • Norwich 
                            </div>
                          </label>
                        </li>
                        <li class="selection-item">
                          <label class="form-check-label" for="location2check">
                            <input type="checkbox" class="form-check-input" name="locationOptionModal" value="Strangers’ Hall" id="location2check">
                            <div class="text-wrapper">
                              Strangers’ Hall • Norwich
                            </div>
                          </label>
                        </li>
                        <li class="selection-item">
                          <label class="form-check-label" for="location3check">
                            <input type="checkbox" class="form-check-input" name="locationOptionModal" value="Time & Tide" id="location3check">
                            <div class="text-wrapper">
                              Time & Tide • Great Yarmouth 
                            </div>
                          </label>
                        </li>
                        <li class="selection-item">
                          <label class="form-check-label" for="location4check">
                            <input type="checkbox" class="form-check-input" name="locationOptionModal" value="Gressenhall" id="location4check">
                            <div class="text-wrapper">
                              Gressenhall Farm & Workhouse
                            </div>
                          </label>
                        </li>
                        <li class="selection-item">
                          <label class="form-check-label" for="location5check">
                            <input type="checkbox" class="form-check-input" name="locationOptionModal" value="Museum of Norwich" id="location5check">
                            <div class="text-wrapper">
                              Museum of Norwich • Norwich
                            </div>
                          </label>
                        </li>
                        <li class="selection-item">
                          <label class="form-check-label" for="location6check">
                            <input type="checkbox" class="form-check-input" name="locationOptionModal" value="Elizabethan House" id="location6check">
                            <div class="text-wrapper">
                              Elizabethan House • Great Yarmouth
                            </div>
                          </label>
                        </li>
                        <li class="selection-item">
                          <label class="form-check-label" for="location7check">
                            <input type="checkbox" class="form-check-input" name="locationOptionModal" value="Lynn" id="location7check">
                            <div class="text-wrapper">
                              Lynn Museum • King's Lynn
                            </div>
                          </label>
                        </li>
                        <li class="selection-item">
                          <label class="form-check-label" for="location8check">
                            <input type="checkbox" class="form-check-input" name="locationOptionModal" value="Cromer" id="location8check">
                            <div class="text-wrapper">
                              Cromer Museum • Cromer
                            </div>
                          </label>
                        </li>
                        <li class="selection-item">
                          <label class="form-check-label" for="location9check">
                            <input type="checkbox" class="form-check-input" name="locationOptionModal" value="Tolhouse Gaol" id="location9check">
                            <div class="text-wrapper">
                              Tolhouse Gaol • Great Yarmouth
                            </div>
                          </label>
                        </li>
                        <li class="selection-item">
                          <label class="form-check-label" for="location10check">
                            <input type="checkbox" class="form-check-input" name="locationOptionModal" value="Ancient House" id="location10check">
                            <div class="text-wrapper">
                              Ancient House • Thetford
                            </div>
                          </label>
                        </li>
                      </ul>
                      <ul class="filter-list">
                        <div class="dropdown-top-section">
                          <h3 class="dropdown-heading h4">Audience</h3>
                          
                        </div>
                        <li class="selection-item">
                          <label class="form-check-label" for="audience1check">
                            <input type="checkbox" class="form-check-input" name="audienceOptionModal" value="All" id="audience1check">
                            <div class="text-wrapper">
                              All audiences 
                            </div>
                          </label>
                        </li>
                        <li class="selection-item">
                          <label class="form-check-label" for="audience2check">
                            <input type="checkbox" class="form-check-input" name="audienceOptionModal" value="Adults" id="audience2check">
                            <div class="text-wrapper">
                              Adults focused 
                            </div>
                          </label>
                        </li>
                        <li class="selection-item">
                          <label class="form-check-label" for="audience3check">
                            <input type="checkbox" class="form-check-input" name="audienceOptionModal" value="Children" id="audience3check">
                            <div class="text-wrapper">
                              Children focused 
                            </div>
                          </label>
                        </li>
                      </ul>
      
      </div>
      <div class="modal-footer">
        <div class="dropdown-bottom-section modal-bottom-section">
          <button class="filter-control-btn clear-filter" type="button" onclick="clearFilters(document.getElementsByName('typeOptionModal'), document.getElementsByName('locationOptionModal'), document.getElementsByName('audienceOptionModal'))" data-bs-dismiss="modal">Clear filters</button>
          <button class="filter-control-btn apply-filter" type="button" onclick="applyFilters(document.getElementsByName('typeOptionModal'), document.getElementsByName('locationOptionModal'), document.getElementsByName('audienceOptionModal'))" data-bs-dismiss="modal">Apply filters</button>
        </div>
      </div>
    </div>
  </div>
</div>

  <section>
    <div class="container">
      <h3 id="search-indicator" class="m0"></h3>
      <div class="row mt-0 mb-5 g-md-4 g-2" id="page-content">
          <div class="col-12 col-sm-6 col-lg-4" id="result-1-wrapper">
            

<div class="card card-light museum-card time-and-tide h-100 " data-component="72">

  
    <div class="date-overlay">
      <div id="result-1-month" class="month">Dec</div>
      <div id="result-1-day" class="day">5</div>
    </div>
    <div id="result-1-type" class="type">Exhibitions</div>
  

  
  <div class="img-wrapper ratio ratio-16x9">
    <img src="/museums-events/public/img/museums-events/event1.jpg" class="card-img-top" alt="image for St Nicholas and the Wishing Tree">
  </div>
  

  <div class="card-body">

    
    <p id="result-1-location" class="card-location">Strangers’ Hall • Norwich</p>
    

    
    <p class="card-date">Monday 5 December 2022 • 13:15 - 14:00</p>
    

    
    <h3 class="card-title h3"><a id="result-1-title" class="stretched-link" href="/museums-events/public//example-event/">St Nicholas and the Wishing Tree</a></h3>
    

    
    <span class="flair flair-full">£7</span>
    

    
    <p id="result-1-audience" class="card-extra-info">Children</p>
    

    
    <p class="card-text">Take a seat and immerse yourself in the magic of Christmas in our beautifully decorated Great Hall. Be entertained by Fool’s Puppet Theatre Company and their delightful tale of St Nicholas and the Wishing Tree, with hurdy-gurdy musical accompaniment.</p>
    

  </div>
</div>


          </div>
          <div class="col-12 col-sm-6 col-lg-4" id="result-2-wrapper">
            

<div class="card card-light museum-card cromer h-100 " data-component="72">

  
    <div class="date-overlay">
      <div id="result-2-month" class="month">May</div>
      <div id="result-2-day" class="day">17</div>
    </div>
    <div id="result-2-type" class="type"></div>
  

  
  <div class="img-wrapper ratio ratio-16x9">
    <img src="/museums-events/public/img/museums-events/event2.jpg" class="card-img-top" alt="image for A Fish Tail Trail">
  </div>
  

  <div class="card-body">

    
    <p id="result-2-location" class="card-location">Cromer Museum • Cromer</p>
    

    
    <p class="card-date">Monday 17 May 2021 • 10:00 - 16:00</p>
    

    
    <h3 class="card-title h3"><a id="result-2-title" class="stretched-link" href="/museums-events/public//example-event/">A Fish Tail Trail</a></h3>
    

    
    <span class="flair flair-full">Free</span>
    

    
    <p id="result-2-audience" class="card-extra-info">All</p>
    

    
    <p class="card-text">It&#39;s not Nemo that needs to be found this time, but our local fishy friends. Help them find their tails (and claws) which have been scattered around the museum and learn some fin-tastic facts.</p>
    

  </div>
</div>


          </div>
          <div class="col-12 col-sm-6 col-lg-4" id="result-3-wrapper">
            

<div class="card card-light museum-card elizabethan h-100 " data-component="72">

  
    <div class="date-overlay">
      <div id="result-3-month" class="month">May</div>
      <div id="result-3-day" class="day">17</div>
    </div>
    <div id="result-3-type" class="type"></div>
  

  
  <div class="img-wrapper ratio ratio-16x9">
    <img src="/museums-events/public/img/museums-events/event3.jpg" class="card-img-top" alt="image for How to be an Elizabethan Trail">
  </div>
  

  <div class="card-body">

    
    <p id="result-3-location" class="card-location">Elizabethan House • Great Yarmouth</p>
    

    
    <p class="card-date">Monday 17 May 2021 • 10:00 - 16:00</p>
    

    
    <h3 class="card-title h3"><a id="result-3-title" class="stretched-link" href="/museums-events/public//example-event/">How to be an Elizabethan Trail</a></h3>
    

    
    <span class="flair flair-full">Free</span>
    

    
    <p id="result-3-audience" class="card-extra-info">All</p>
    

    
    <p class="card-text">A Beginners guide to the “Golden Age” Ever wanted to know how to fit into Elizabethan society? Well this is your perfect starter guide! Follow the trail to find out some fantastic facts.</p>
    

  </div>
</div>


          </div>
          <div class="col-12 col-sm-6 col-lg-4" id="result-4-wrapper">
            

<div class="card card-light museum-card time-and-tide h-100 " data-component="72">

  
    <div class="date-overlay">
      <div id="result-4-month" class="month">May</div>
      <div id="result-4-day" class="day">17</div>
    </div>
    <div id="result-4-type" class="type"></div>
  

  
  <div class="img-wrapper ratio ratio-16x9">
    <img src="/museums-events/public/img/museums-events/event1.jpg" class="card-img-top" alt="image for Where&#39;s Wookie?">
  </div>
  

  <div class="card-body">

    
    <p id="result-4-location" class="card-location">Time &amp; Tide • Great Yarmouth</p>
    

    
    <p class="card-date">Monday 17 May 2021 • 10:00 - 16:00</p>
    

    
    <h3 class="card-title h3"><a id="result-4-title" class="stretched-link" href="/museums-events/public//example-event/">Where&#39;s Wookie?</a></h3>
    

    
    <span class="flair flair-full">Free</span>
    

    
    <p id="result-4-audience" class="card-extra-info">All</p>
    

    
    <p class="card-text">The Wookies have gone into hiding as they spotted Storm Troopers in our exhibition. Can you help us find them amongst our collections?</p>
    

  </div>
</div>


          </div>
          <div class="col-12 col-sm-6 col-lg-4" id="result-5-wrapper">
            

<div class="card card-light museum-card elizabethan h-100 " data-component="72">

  
    <div class="date-overlay">
      <div id="result-5-month" class="month">May</div>
      <div id="result-5-day" class="day">17</div>
    </div>
    <div id="result-5-type" class="type"></div>
  

  
  <div class="img-wrapper ratio ratio-16x9">
    <img src="/museums-events/public/img/museums-events/event3.jpg" class="card-img-top" alt="image for How to be an Elizabethan Trail">
  </div>
  

  <div class="card-body">

    
    <p id="result-5-location" class="card-location">Elizabethan House • Great Yarmouth</p>
    

    
    <p class="card-date">Monday 17 May 2021 • 10:00 - 16:00</p>
    

    
    <h3 class="card-title h3"><a id="result-5-title" class="stretched-link" href="/museums-events/public//example-event/">How to be an Elizabethan Trail</a></h3>
    

    
    <span class="flair flair-full">Free</span>
    

    
    <p id="result-5-audience" class="card-extra-info">All</p>
    

    
    <p class="card-text">A Beginners guide to the “Golden Age” Ever wanted to know how to fit into Elizabethan society? Well this is your perfect starter guide! Follow the trail to find out some fantastic facts.</p>
    

  </div>
</div>


          </div>
          <div class="col-12 col-sm-6 col-lg-4" id="result-6-wrapper">
            

<div class="card card-light museum-card cromer h-100 " data-component="72">

  
    <div class="date-overlay">
      <div id="result-6-month" class="month">May</div>
      <div id="result-6-day" class="day">17</div>
    </div>
    <div id="result-6-type" class="type"></div>
  

  
  <div class="img-wrapper ratio ratio-16x9">
    <img src="/museums-events/public/img/museums-events/event2.jpg" class="card-img-top" alt="image for A Fish Tail Trail">
  </div>
  

  <div class="card-body">

    
    <p id="result-6-location" class="card-location">Cromer Museum • Cromer</p>
    

    
    <p class="card-date">Monday 17 May 2021 • 10:00 - 16:00</p>
    

    
    <h3 class="card-title h3"><a id="result-6-title" class="stretched-link" href="/museums-events/public//example-event/">A Fish Tail Trail</a></h3>
    

    
    <span class="flair flair-full">Free</span>
    

    
    <p id="result-6-audience" class="card-extra-info">All</p>
    

    
    <p class="card-text">It&#39;s not Nemo that needs to be found this time, but our local fishy friends. Help them find their tails (and claws) which have been scattered around the museum and learn some fin-tastic facts.</p>
    

  </div>
</div>


          </div>
          <div class="col-12 col-sm-6 col-lg-4" id="result-7-wrapper">
            

<div class="card card-light museum-card cromer h-100 " data-component="72">

  
    <div class="date-overlay">
      <div id="result-7-month" class="month">Jun</div>
      <div id="result-7-day" class="day">25</div>
    </div>
    <div id="result-7-type" class="type"></div>
  

  
  <div class="img-wrapper ratio ratio-16x9">
    <img src="/museums-events/public/img/museums-events/event2.jpg" class="card-img-top" alt="image for A Fish Tail Trail">
  </div>
  

  <div class="card-body">

    
    <p id="result-7-location" class="card-location">Cromer Museum • Cromer</p>
    

    
    <p class="card-date">Monday 25 June 2021 • 10:00 - 16:00</p>
    

    
    <h3 class="card-title h3"><a id="result-7-title" class="stretched-link" href="/museums-events/public//example-event/">A Fish Tail Trail</a></h3>
    

    
    <span class="flair flair-full">Free</span>
    

    
    <p id="result-7-audience" class="card-extra-info">All</p>
    

    
    <p class="card-text">It&#39;s not Nemo that needs to be found this time, but our local fishy friends. Help them find their tails (and claws) which have been scattered around the museum and learn some fin-tastic facts.</p>
    

  </div>
</div>


          </div>
          <div class="col-12 col-sm-6 col-lg-4" id="result-8-wrapper">
            

<div class="card card-light museum-card time-and-tide h-100 " data-component="72">

  
    <div class="date-overlay">
      <div id="result-8-month" class="month">May</div>
      <div id="result-8-day" class="day">17</div>
    </div>
    <div id="result-8-type" class="type"></div>
  

  
  <div class="img-wrapper ratio ratio-16x9">
    <img src="/museums-events/public/img/museums-events/event1.jpg" class="card-img-top" alt="image for Where&#39;s Wookie?">
  </div>
  

  <div class="card-body">

    
    <p id="result-8-location" class="card-location">Time &amp; Tide • Great Yarmouth</p>
    

    
    <p class="card-date">Monday 17 May 2021 • 10:00 - 16:00</p>
    

    
    <h3 class="card-title h3"><a id="result-8-title" class="stretched-link" href="/museums-events/public//example-event/">Where&#39;s Wookie?</a></h3>
    

    
    <span class="flair flair-full">Free</span>
    

    
    <p id="result-8-audience" class="card-extra-info">All</p>
    

    
    <p class="card-text">The Wookies have gone into hiding as they spotted Storm Troopers in our exhibition. Can you help us find them amongst our collections?</p>
    

  </div>
</div>


          </div>
      </div>

      

    </div>
  </section>

  <script>

    window.onload = function() {
      fillFields();
      updateSelections();
      showResults(0,3);
    }

    // PAGINATION /////////////////////////////////////////////////// 

    const RESULTS_WRAPPER = document.getElementById('page-content');

    const SEARCH_INDICATOR = document.getElementById('search-indicator');

    const LINK1 = document.getElementById("page1-link");
    const LINK2 = document.getElementById("page2-link");
    const LINK3 = document.getElementById("page3-link");

    const LINK_PREV = document.getElementById("page-prev-link");
    const LINK_NEXT = document.getElementById("page-next-link");

    function fillFields() {
      const dateFromCookie = getCookie('dateFrom');
      const dateToCookie = getCookie('dateTo');
      const searchCookie = getCookie('searchQuery');

      SEARCH_INPUT.value = searchCookie;
      DATE_FROM.value = dateFromCookie;
      DATE_TO.value = dateToCookie;
    }

    function showResults(start, end) {
      let results = RESULTS_WRAPPER.children;
      console.log(`number of resuts= ${results.length}`);

      for (i = 0; i < results.length; i++) {
        if (i >= start && i < end) {
          results[i].style.display = 'block'; 
        } else {
          results[i].style.display = 'none';
        }
      }
      filterResults();
    }

    let currentPage = 1;

    function nextPage() {
      if (currentPage >= 3) return;
      showPage(currentPage + 1);
    }

    function prevPage() {
      if (currentPage <= 1) return;
      showPage(currentPage - 1);
    }

    function showPage(pageNum) {
      if (pageNum == 1) {
        LINK1.classList.add("active");
        LINK2.classList.remove("active");
        LINK3.classList.remove("active");

        LINK_PREV.classList.add("disabled");
        LINK_PREV.firstElementChild.tabIndex="-1";
        LINK_NEXT.classList.remove("disabled");
        LINK_NEXT.firstElementChild.tabIndex="0";
        
        currentPage = 1;
        showResults(0,3);
        RESULTS_WRAPPER.scrollIntoView();
        //page1.getElementsByTagName('a')[0].focus();
      } else if (pageNum == 2) {
        LINK1.classList.remove("active");
        LINK2.classList.add("active");
        LINK3.classList.remove("active");

        LINK_PREV.classList.remove("disabled");
        LINK_PREV.firstElementChild.tabIndex="0";
        LINK_NEXT.classList.remove("disabled");
        LINK_NEXT.firstElementChild.tabIndex="0";
        
        currentPage = 2;
        showResults(3,6);
        RESULTS_WRAPPER.scrollIntoView();
        //page2.getElementsByTagName('a')[0].focus();
      } else if (pageNum == 3) {
        LINK1.classList.remove("active");
        LINK2.classList.remove("active");
        LINK3.classList.add("active");

        LINK_PREV.classList.remove("disabled");
        LINK_PREV.firstElementChild.tabIndex="0";
        LINK_NEXT.classList.add("disabled");
        LINK_NEXT.firstElementChild.tabIndex="-1";

        currentPage = 3;
        showResults(6,8)
        RESULTS_WRAPPER.scrollIntoView();
        //page3.getElementsByTagName('a')[0].focus();
      } else {
        console.log("pagination error");
      }
    }

    // FILTERS //////////////////////////////////

    function filterResults() {
      const searchCookie = getCookie('searchQuery');
      const typeCookie = getCookie('typeSelections');
      const locationCookie = getCookie('locationSelections');
      const audienceCookie = getCookie('audienceSelections');
      const dateFromCookie = getCookie('dateFrom');
      const dateToCookie = getCookie('dateTo');

      const results = RESULTS_WRAPPER.children;

      if (typeCookie == '' && locationCookie == '' && audienceCookie == '' && searchCookie == '' && dateFromCookie == '' && dateToCookie == '') {
        console.log('no filters specified');
        Array.from(results).forEach(function (r) {
          r.style.display = 'block';
        });
      } else {
        Array.from(results).forEach(function (r) {
          r.style.display = 'none';
          const idString = r.id.split("-");
          const num = idString[1];
          if (checkType(num, typeCookie) && checkLocation(num, locationCookie) && checkAudience(num, audienceCookie)) {
            r.style.display = 'block';
          }
          if (searchCookie != '') {
            console.log("search field not empty, refining...");
            SEARCH_INDICATOR.textContent = `Searching by "${searchCookie}":`;
            if (!checkSearch(num, searchCookie)) {
              console.log("search field match FAIL");
              r.style.display = 'none';
            }
          }
          if (!checkDate(num, dateFromCookie, dateToCookie)) {
            console.log("date match FAIL");
            r.style.display = 'none';
          }
        });
      }
    }

    function checkDate(n, cFrom, cTo) {
      if (cFrom == '' && cTo == '') {
        console.log("both date fields blank");
        return true;
      }

      // YYYY-MM-DD
      const f = cFrom.split("-");
      const t = cTo.split("-");

      const fM = Number(f[1]);
      const fD = Number(f[2]);
      const tM = Number(t[1]);
      const tD = Number(t[2]);

      const monthEl = document.getElementById(`result-${n}-month`);
      const dayEl = document.getElementById(`result-${n}-day`);
      let month = 0;
      let day = dayEl.textContent;

      switch (monthEl.textContent) {
        case 'Jan': month = 1; break;
        case 'Feb': month = 2; break;
        case 'Mar': month = 3; break;
        case 'Apr': month = 4; break;
        case 'May': month = 5; break;
        case 'Jun': month = 6; break;
        case 'Jul': month = 7; break;
        case 'Aug': month = 8; break;
        case 'Sep': month = 9; break;
        case 'Oct': month = 10; break;
        case 'Nov': month = 11; break;
        case 'Dec': month = 12; break;
        default: console.error(`invalid month`);
      }

      let fromCheck = false;
      if (fM < month) {
        fromCheck = true;
      } else if (fM === month && fD <= day)  {
        fromCheck = true;
      }

      let toCheck = false;
      if (tM > month) {
        toCheck = true;
      } else if (tM === month && tD >= day)  {
        toCheck = true;
      }

      if (fromCheck && cTo == '') {
        return true;
      }
      if (toCheck && cFrom == '') {
        return true;
      }

      if (fromCheck && toCheck) {
        return true;
      }
      return false;
    }

    function checkSearch(n, cookie) {
      console.log(`search= ${cookie}`); // 'puppet show'
      if (cookie == '')
        return true;
      const typeEl = document.getElementById(`result-${n}-type`);
      const locationEl = document.getElementById(`result-${n}-location`);
      const titleEl = document.getElementById(`result-${n}-title`);
      let match = false;
      if (typeEl.textContent.toLowerCase().includes(cookie.toLowerCase())
          || locationEl.textContent.toLowerCase().includes(cookie.toLowerCase()) 
          || titleEl.textContent.toLowerCase().includes(cookie.toLowerCase()) ) {
        console.log(`${titleEl.textContent} matches ${cookie}`);
        return true;
      }
       
    }

    function checkType(n, cookie) {
      const types = cookie.split(","); // [Talks, Exhibitions]
      if (types == '')
        return true;
      const typeEl = document.getElementById(`result-${n}-type`);
      let match = false;
      types.forEach(function (type) {
        if (typeEl.textContent.includes(type)) {
          console.log("TYPE MATCH");
          match = true;
        }
      });
      return match;
    }

    function checkLocation(n, cookie) {
      const locations = cookie.split(","); // [Time & Tide, Cromer]
      if (locations == '')
        return true;
      const locationEl = document.getElementById(`result-${n}-location`);
      let match = false;
      locations.forEach(function (loc) {
        if (locationEl.textContent.includes(loc)) {
          console.log("LOCATION MATCH");
          match = true;
        }
      });
      return match;
    }

    function checkAudience(n, cookie) {
      const audiences = cookie.split(","); // [Children]
      if (audiences == '' || audiences.includes('All'))
        return true;
      const audienceEl = document.getElementById(`result-${n}-audience`);
      let match = false;
      audiences.forEach(function (aud) {
        if (audienceEl.textContent.includes(aud)) {
          console.log("AUDIENCE MATCH");
          match = true;
        } else if (audienceEl.textContent.includes('All')) {
          match = true;
        }

      });
      return match;
    }

    // COOKIES //////////////////////////////////

    function setCookie(cname, cvalue, exdays) {
      const d = new Date();
      d.setTime(d.getTime() + (exdays*24*60*60*1000));
      let expires = "expires="+ d.toUTCString();
      document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
    }

    function getCookie(cname) {
      let name = cname + "=";
      let decodedCookie = decodeURIComponent(document.cookie);
      let ca = decodedCookie.split(';');
      for(let i = 0; i <ca.length; i++) {
        let c = ca[i];
        while (c.charAt(0) == ' ') {
          c = c.substring(1);
        }
        if (c.indexOf(name) == 0) {
          return c.substring(name.length, c.length);
        }
      }
      return "";
    }

  </script>


  </main>
  <footer>
  <div class="container py-5">
    <div class="footer-logo d-flex justify-content-center mb-md-4 ">
      <a href="https://www.museums.norfolk.gov.uk"><img src="/museums-events/public/img/museums-logo.png" alt="Norfolk Museums Logo"></a>
    </div>
    <hr>
    <div class="row py-3">
      <div class="col-12 col-lg-6">
        <ul class="links-list">
          <li><a href="/">Cookies</a></li>
          <li><a href="/">About NMS</a></li>
          <li><a href="/">Copyright and reproduction fees</a></li>
          <li><a href="/">Public task statement</a></li>
        </ul>
      </div>
      <div class="col-12 col-lg-6">
        <ul class="links-list">
          <li><a href="/">NMS privacy statement</a></li>
          <li><a href="/">Accessibility statement for Norfolk Museums</a></li>
          <li><a href="/">Contact us</a></li>
        </ul>
      </div>
      <div class="col-12 mt-lg-5">
        <hr class="my-4 my-lg-0 mb-lg-4">
        <p class="text-center">&copy 2022 Norfolk Museums</p>
      </div>
    </div>
  </div>
</footer>


  <script 
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous">
  </script>
  
  <script
		src="https://code.jquery.com/jquery-3.6.0.js"
		integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk="
		crossorigin="anonymous">
  </script>

  <script
    type="text/javascript"
    src="//cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js">
  </script>



  <script>

    const FORM = document.getElementById("main-search-form");
    function handleForm(e) {
      e.preventDefault();
    } 
    FORM.addEventListener('submit', handleForm);

    function advancedSearchLink() {
      // set search query, if any
      const query = SEARCH_INPUT.value;
      if (query)
        setCookie('searchQuery', query, 1);
      else
        setCookie('searchQuery', '', 1);

      const dateFrom = DATE_FROM.value;
      const dateTo = DATE_TO.value;
      if (dateFrom != '')
        setCookie('dateFrom', dateFrom, 1);
      else
        setCookie('dateFrom', '', 1);
      if (dateTo != '')
        setCookie('dateTo', dateTo, 1);
      else
        setCookie('dateTo', '', 1);

      window.location.href = "/museums-events/public/advanced-search/";
    }

    // Filters and cookie functions

    const SEARCH_INPUT = document.getElementById('home-search-input');

    const DATE_FROM = document.getElementById('date-from');
    const DATE_TO = document.getElementById('date-to');

    const FILTERS_BTN = document.getElementById('modal-filter-all');
    const TYPE_BTN = document.getElementById('dropdown-filter-type');
    const LOCATION_BTN = document.getElementById('dropdown-filter-location');
    const AUDIENCE_BTN = document.getElementById('dropdown-filter-audience');

    const TYPE_LIST = document.getElementsByName('typeOption');
    const LOCATION_LIST = document.getElementsByName('locationOption');
    const AUDIENCE_LIST = document.getElementsByName('audienceOption');

    const TYPE_LIST_MODAL = document.getElementsByName('typeOptionModal');
    const LOCATION_LIST_MODAL = document.getElementsByName('locationOptionModal');
    const AUDIENCE_LIST_MODAL = document.getElementsByName('audienceOptionModal');

    function updateSelections() {
      let types = getCookie('typeSelections');
      let locations = getCookie('locationSelections');
      let audiences = getCookie('audienceSelections');

      let nType = 0;
      let nLocation = 0;
      let nAudience = 0;

      TYPE_LIST_MODAL.forEach(function (type) {
        if (types.includes(type.value)) {
          type.checked = true;
          nType++;
        } else {
          type.checked = false;
        }
      });
      TYPE_LIST.forEach(function (type) {
        if (types.includes(type.value)) {
          type.checked = true;
        } else {
          type.checked = false;
        }
      });
      LOCATION_LIST_MODAL.forEach(function (location) {
        if (locations.includes(location.value)) {
          location.checked = true;
          nLocation++;
        } else {
          location.checked = false;
        }
      });
      LOCATION_LIST.forEach(function (location) {
        if (locations.includes(location.value)) {
          location.checked = true;
        } else {
          location.checked = false;
        }
      });
      AUDIENCE_LIST_MODAL.forEach(function (audience) {
        if (audiences.includes(audience.value)) {
          audience.checked = true;
          nAudience++;
        } else {
          audience.checked = false;
        }
      });
      AUDIENCE_LIST.forEach(function (audience) {
        if (audiences.includes(audience.value)) {
          audience.checked = true;
        } else {
          audience.checked = false;
        }
      });
      updateFiltersButton(nType + nLocation + nAudience);
      updateTypeButton(nType);
      updateLocationButton(nLocation);
      updateAudienceButton(nAudience);
      filterResults();
    }

    function updateFiltersButton(n) {
      if (n === 0) {
        FILTERS_BTN.textContent = 'Filters';
      } else {
        FILTERS_BTN.textContent = `Filters • ${n}`;
      }
    }
    function updateTypeButton(n) {
      if (n === 0) {
        TYPE_BTN.textContent = 'Type';
      } else {
        TYPE_BTN.textContent = `Type • ${n}`;
      }
    }
    function updateLocationButton(n) {
      if (n === 0) {
        LOCATION_BTN.textContent = 'Location';
      } else {
        LOCATION_BTN.textContent = `Location • ${n}`;
      }
    }
    function updateAudienceButton(n) {
      if (n === 0) {
        AUDIENCE_BTN.textContent = 'Audience';
      } else {
        AUDIENCE_BTN.textContent = `Audience • ${n}`;
      }
    }

    // used by modal
    function applyFilters(types, locations, audiences) {
      let typeSelections = [];
      let locationSelections = [];
      let audienceSelections = [];
      types.forEach(function (type) {
        if (type.checked) {
          typeSelections.push(type.value);
        }
      });
      locations.forEach(function (location) {
        if (location.checked) {
          locationSelections.push(location.value);
        }
      });
      audiences.forEach(function (audience) {
        if (audience.checked) {
          audienceSelections.push(audience.value);
        }
      });
      setCookie('typeSelections', typeSelections, 1);
      setCookie('locationSelections', locationSelections, 1);
      setCookie('audienceSelections', audienceSelections, 1);

      updateSelections();
    }

    function clearFilters(types, locations, audiences) {
      setCookie('typeSelections', '', 1);
      setCookie('locationSelections', '', 1);
      setCookie('audienceSelections', '', 1);

      updateSelections();
    }

    // used by dropdowns
    function applyfiltersDropdown(name, items) {
      if (name === 'typeOption') {
        let types = items;
        let typeSelections = [];
        types.forEach(function (type) {
          if (type.checked) {
            typeSelections.push(type.value);
          }
        });
        setCookie('typeSelections', typeSelections, 1);
      }
      if (name === 'locationOption') {
        let locations = items;
        let locationSelections = [];
        locations.forEach(function (loc) {
          if (loc.checked) {
            locationSelections.push(loc.value);
          }
        });
        setCookie('locationSelections', locationSelections, 1);
      }
      if (name === 'audienceOption') {
        let audiences = items;
        let audienceSelections = [];
        audiences.forEach(function (audience) {
          if (audience.checked) {
            audienceSelections.push(audience.value);
          }
        });
        setCookie('audienceSelections', audienceSelections, 1); 
      }
      
      updateSelections();
    }

    function clearFiltersDropdown(name) {
      if (name === 'typeOption') {
        setCookie('typeSelections', '', 1);
      }
      if (name === 'locationOption') {
        setCookie('locationSelections', '', 1);
      }
      if (name === 'audienceOption') {
        setCookie('audienceSelections', '', 1);
      }
      updateSelections();
    }

    // 'Browse by' links & filters //////////////

    function browseLocation(loc) {
      switch(loc) {
        case 'Online':
          setCookie('locationSelections', 'Online', 1);
          break;
        case 'Norwich Castle':
          setCookie('locationSelections', 'Norwich Castle', 1);
          break;
        case 'Strangers Hall':
          setCookie('locationSelections', 'Strangers Hall', 1);
          break;
        case 'Time & Tide':
          setCookie('locationSelections', 'Time & Tide', 1);
          break;
        case 'Gressenhall':
          setCookie('locationSelections', 'Gressenhall', 1);
          break;
        case 'Museum of Norwich':
          setCookie('locationSelections', 'Museum of Norwich', 1);
          break;
        case 'Elizabethan House':
          setCookie('locationSelections', 'Elizabethan House', 1);
          break;
        case 'Lynn':
          setCookie('locationSelections', 'Lynn', 1);
          break;
        case 'Cromer':
          setCookie('locationSelections', 'Cromer', 1);
          break;
        case 'Tolhouse Gaol':
          setCookie('locationSelections', 'Tolhouse Gaol', 1);
          break;
        case 'Ancient House':
          setCookie('locationSelections', 'Ancient House', 1);
          break;
        default:
          console.error(`no match for "browse by location"`);
      }
      window.location.href = "/museums-events/public/advanced-search/";
    }
    function browseType(type) {
      switch(type) {
        case 'Talks':
          setCookie('typeSelections', 'Talks', 1);
          break;
        case 'Tours':
          setCookie('typeSelections', 'Tours', 1);
          break;
        case 'Family activities':
          setCookie('typeSelections', 'Family activities', 1);
          break;
        case 'Exhibitions':
          setCookie('typeSelections', 'Exhibitions', 1);
          break;
        case 'Parties':
          setCookie('typeSelections', 'Parties', 1);
          break;
        case 'Workshops':
          setCookie('typeSelections', 'Workshops', 1);
          break;
        default:
          console.error(`no match for "browse by type"`);
      }
      window.location.href = "/museums-events/public/advanced-search/";
    }


    /////////////////////////////////////////////

    function setCookie(cname, cvalue, exdays) {
      const d = new Date();
      d.setTime(d.getTime() + (exdays*24*60*60*1000));
      let expires = "expires="+ d.toUTCString();
      document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/";
    }

    function getCookie(cname) {
      let name = cname + "=";
      let decodedCookie = decodeURIComponent(document.cookie);
      let ca = decodedCookie.split(';');
      for(let i = 0; i <ca.length; i++) {
        let c = ca[i];
        while (c.charAt(0) == ' ') {
          c = c.substring(1);
        }
        if (c.indexOf(name) == 0) {
          return c.substring(name.length, c.length);
        }
      }
      return "";
    }
  </script>

  <script type="text/javascript">
    $(document).ready(function(){
      $('.card-wrapper-slick').slick({
        infinite: false,
        slidesToShow: 5,
        slidesToScroll: 1,
        speed: 300,
        variableWidth: true,
        responsive: [
          {
            breakpoint: 1400,
            settings: {
              slidesToShow: 5
            }
          },
          {
            breakpoint: 1200,
            settings: {
              slidesToShow: 4
            }
          },
          {
            breakpoint: 992,
            settings: {
              slidesToShow: 3
            }
          },
          {
            breakpoint: 768,
            settings: {
              slidesToShow: 2
            }
          },
          {
            breakpoint: 576,
            settings: {
              slidesToShow: 1
            }
          }
        ]
      });
    });
  </script>

</body>
</html>
